<% if @recommend.errors.blank? %>
  $("#recommend_<%= @recommend.id %>").replaceWith("<%= j(render partial: 'list', locals: { recommend: @recommend} ) %>");
  $("#recommend_modal").modal('hide');
<% else %>
  $(".red.pointing").remove();
  $(".field").removeClass('error');
  <% @recommend.errors.messages.each do |key, value| %>
    //parent()方法：返回被选中元素的父元素
    $("#recommend_<%= key %>").parent().addClass('error');
    $("#recommend_<%= key %>").parent().append("<div class='ui basic red pointing prompt label transition visible'><%= value[0] %></div>");
  <% end %>
<% end %>


